(this.webpackJsonpwexchange=this.webpackJsonpwexchange||[]).push([[63],{2334:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=(n(840),n(863));t.default=function(e){var t={container:"MAP_BOX",zoom:200};return Object(a.useEffect)((function(){Object(c.f)(t)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",null,"Product search result page")),r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{style:{height:"100vh"},id:"MAP_BOX"}))))}},838:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(20),r=n(193),c=function e(t){Object(a.a)(this,e);var n=t.type,c=t.timeOut||1e4,u=t.msg,o=n;r.NotificationManager[n](u,o,c)}},840:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a="production",r=a.trim();console.log("env",a,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}));var c={development:{base_url:"http://localhost:5000/api",websocket_url:"https://c5853d42c26c.ngrok.io",base_url_front:"",paystack_api_key:"pk_test_18e1b66031dc64ef4cc27827419428bac31851e1",mapbox_token:"pk.eyJ1IjoiZ3JheWV5LWVtbXMiLCJhIjoiY2txODMzb2ZoMGM3ZzJvb2FnN3FpM2dpdyJ9.cC6x5fEQGF3gDJtr6JLNwg"},production:{base_url:"https://c8c24ab41dee.ngrok.io/api",websocket_url:"https://c5853d42c26c.ngrok.io",base_url_front:"",paystack_api_key:"pk_test_18e1b66031dc64ef4cc27827419428bac31851e1",mapbox_token:"pk.eyJ1IjoiZ3JheWV5LWVtbXMiLCJhIjoiY2txODMzb2ZoMGM3ZzJvb2FnN3FpM2dpdyJ9.cC6x5fEQGF3gDJtr6JLNwg"}}[r]},850:function(e,t,n){"use strict";n.r(t),n.d(t,"get",(function(){return l})),n.d(t,"post",(function(){return p})),n.d(t,"put",(function(){return f})),n.d(t,"patch",(function(){return d})),n.d(t,"del",(function(){return E})),n.d(t,"postFile",(function(){return v}));var a=n(137),r=n.n(a),c=n(827),u=n(12),o=n.n(u),i=n(840),s=(n(99),i.a.base_url),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:null,a=u.length>2&&void 0!==u[2]?u[2]:{},c="".concat(s,"/").concat(t),c=h(c=n?"".concat(c,"/").concat(n):c,a),e.next=7,o.a.get(c).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){throw{data:e,message:e.message,requestStatus:!1,statusCode:e}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(s,"/").concat(t),e.next=3,o.a.post(a,n).then((function(e){return e.data})).catch((function(e){var t=e.response;throw console.log(t),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,a="".concat(s,"/").concat(t),e.next=4,o.a.put(a,n).then((function(e){return e.data})).catch((function(e){throw e.response}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,a="".concat(s,"/").concat(t),e.next=4,o.a.patch(a,n).then((function(e){return e.data})).catch((function(e){throw e.response}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"/").concat(t),e.next=3,o.a.delete(n).then((function(e){return e.data})).catch((function(e){throw e.response}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:null,c=h("".concat(s,"/").concat(t),a),e.next=4,o.a.post(c,n,a).then((function(e){return e.data})).catch((function(e){throw e.response}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).length){var n="?",a="";for(var r in t)a+="".concat(r,"=").concat(t[r],"&");e+="".concat(n).concat(a)}return e}},856:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(137),r=n.n(a),c=n(827),u=n(20),o=n(24),i=n(850),s=function(){function e(){Object(u.a)(this,e),this.getAllBidsBBuyerId=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bids/user/".concat(t,"/"),e.next=3,i.get(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getWalletByUserId=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="wallet-transactions/wallet/".concat(t,"/"),e.next=3,i.get(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createTransactionAndUpdateWallet=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"wallet-transactions/",e.next=3,i.post("wallet-transactions/",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(o.a)(e,[{key:"createBid",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bids/",e.next=3,i.post("bids/",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBid",value:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="bids/".concat(n,"/"),e.next=3,i.put(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBidById",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bids/".concat(t,"/"),e.next=3,i.get(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBid",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bids/".concat(t._id),e.next=3,i.del(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleBid",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=!t.status,e.abrupt("return",this.updateBid(t,t._id));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveBidReview",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"",a="reviews/".concat(n),c=n?"put":"post",e.abrupt("return",i[c](a,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},863:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return C}));var a=n(0),r=n.n(a),c=n(899),u=n(840),o=n(925),i={BID_INIT:"OWNER_ACCEPT",OWNER_ACCEPT:"BUYER_PAYS",BUYER_PAYS:"PRODUCT_ENROUTE",PRODUCT_ENROUTE:"PRODUCT_DELIVERED",PRODUCT_DELIVERED:"RECEPTION_CONFIRMED",RECEPTION_CONFIRMED:"SELLER_IS_PAID",SELLER_IS_PAID:"SALE_COMPLETE"},s={BID_INIT:"20",OWNER_ACCEPT:"30",BUYER_PAYS:"50",PRODUCT_ENROUTE:"60",PRODUCT_DELIVERED:"70",RECEPTION_CONFIRMED:"80",SELLER_IS_PAID:"100"},l={OWNER_ACCEPT:"Initiated. Awaiting acceptance",BUYER_PAYS:"Accepted. Awaiting buyer's payment",PRODUCT_ENROUTE:"Paid. Awaiting shipping",PRODUCT_DELIVERED:"En route. Awaiting delivery",RECEPTION_CONFIRMED:"Delivered. Awaiting confirmation",SELLER_IS_PAID:"Confirmed. Awaiting pay transfer.",SALE_COMPLETE:"Seller paid. Sale complete."},p={OWNER_ACCEPT:{value:"OWNER_ACCEPT",label:"ACCEPT"},PRODUCT_ENROUTE:{value:"PRODUCT_ENROUTE",label:"PRODUCT ON THE WAY"},PRODUCT_DELIVERED:{value:"PRODUCT_DELIVERED",label:"PRODUCT DELIVERED"}},f={BUYER_PAYS:{value:"BUYER_PAYS",label:"PAY"},RECEPTION_CONFIRMED:{value:"RECEPTION_CONFIRMED",label:"PRODUCT RECEIVED"}},d={OWNER_ACCEPT:{mainText:"You are about to accept this bid",subText:"Buyer can now make payment?",finalText:"Bid accepted."},PRODUCT_ENROUTE:{mainText:"Confirming that the product is now on its way",subText:"The buyer will be notified",finalText:"Buyer has been notified."},PRODUCT_DELIVERED:{mainText:"Confirming that the product has now been delivered",subText:"The buyer will have to confirm receipt.",finalText:"Buyer has been notified."},BUYER_PAYS:{mainText:"You about to make payment",subText:"The quantity will now be reserved for you.",finalText:"Redirecting.."},RECEPTION_CONFIRMED:{mainText:"Confirming that you have received the product",subText:"The seller will now be paid.",finalText:"Thank you."},CANCEL:{mainText:"You about to cancel this bid.",subText:"You cannot revert this action.",finalText:"Bid cancelled."}},E=n(870),v=n(779),h=n(838),m=n(862),b=n.n(m),_=new(n(856).a);c.accessToken=u.a.mapbox_token;var O=function(e){var t=e.isFetching,n=e.emptyMsg;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"loader-bubble loader-bubble-info m-5"}),r.a.createElement("div",{className:"loader-bubble loader-bubble-light m-5"}),r.a.createElement("div",{className:"loader-bubble loader-bubble-dark m-5"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,n||"No records found"))},T=function(e){var t=e.bid,n=i[t.stage],a=s[t.stage],c=l[n],u=t.rejection_type,p=a<100?"info_custom":"success",f=u&&"NONE"==u;p=f?"secondary_custom":p;var d={now:a,label:"".concat(a,"%"),variant:p};return f&&(d.striped=!0,d.animated=!0),r.a.createElement("div",null,r.a.createElement(o.a,d),r.a.createElement("p",{className:"text-center"},r.a.createElement("small",null,r.a.createElement("b",null,r.a.createElement("em",null,c)))))},w=function(e){var t=e.bid,n=e.authUser,a=e.setBid,c=n.user_type,u=("SELLER"==c?p:"BUYER"==c?f:{})[i[t.stage]]||{},o=u.value,s=u.label;return r.a.createElement("select",{className:"form-control",onChange:function(e){e.preventDefault();var n=e.target.value;if(e.target.value){var r=d[n],c=r.mainText,u=r.subText,o=r.finalText;b.a.fire({title:"<small>".concat(c,"</small>"),text:"".concat(u),icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#007BFF",cancelButtonColor:"#d33",confirmButtonText:"Yes!",cancelButtonText:"No"}).then((function(e){e.value&&(t.stage=n,_.updateBid(t,t._id).then((function(e){console.log({bidResponse:e}),new h.a({type:"success",msg:o}),a(t)})).catch((function(e){new h.a({type:"error",msg:"An error occured"})})))}))}}},r.a.createElement("option",{value:""},"Select"),o&&s&&r.a.createElement("option",{value:o},s),r.a.createElement("option",{value:"CANCEL",className:"text-danger"},"Decline"))},R=function(e){var t=e.bids,n=e.authUser;return t.length>0&&n&&r.a.createElement("marquee",null,r.a.createElement("em",null,r.a.createElement("b",null,function(){var e=t.length,a=[],r=[];t.forEach((function(e){a.push(+e.price_per_kg),r.push(+e.quantity)}));var c=Math.min.apply(Math,a),u=(Math.min.apply(Math,r),Math.max.apply(Math,a)),o=(Math.max.apply(Math,a),"".concat(e," bids on this stock at a "));return o+="SELLER"==n.user_type?"minimum price of NGN".concat(c,"."):"maximum price of NGN".concat(u,".")}())))},g=function(e){var t=e.bid,n=e.fullReview,a=t.review?t.review:{rating:0,comment:""},c=a.rating,u=(a.comment,function(){return r.a.createElement(E.a,{initialRating:c,fractions:2,emptySymbol:r.a.createElement(v.r,{size:22}),fullSymbol:r.a.createElement(v.q,{className:"text-warning",size:22}),onChange:function(){}})});return n?r.a.createElement("div",null,"NAMMAMMAMA"):r.a.createElement(u,null)},C=function(e){var t=e.container;return new c.Map({container:t,style:"mapbox://styles/mapbox/streets-v11"})}}}]);
//# sourceMappingURL=63.795286c8.chunk.js.map